<!-- Loads the path to your static files -->
{% extends 'Recon/Base.html' %}
{% load static %}
{% load staticfiles %}
{% block title %}Reaction Details{% endblock %}
{% block body %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jsnetworkx/0.3.4/jsnetworkx.js"></script>
<script src="http://d3js.org/d3.v3.min.js"></script>

<h1>{{ reactionsmeta.id }} (Reaction, ID)</h1>
<h2>{{ reactionsmeta.name}}</h2>
    <!-- Left Reaction Info -->
    <div class="col-sm-4 col-md-3">
        <div class="panel panel-default">
            <div class="panel-body">
                <a href="{% url 'detail_reaction' reactionsmeta.id %}">
                    {% if reactionsmeta.id %}
                        <img src="{% static "Recon/images/Logo-Technische-Universiteit-Eindhoven.jpg" %}" class="img-responsive">
                    {% else %}
                        <h3>No image to display</h3>
                    {% endif %}
                </a>
                <h1>{{ reactionsmeta.id }} <small>{{ reactionsmeta.name }}</small></h1>
            </div>
        </div>
    </div>


<!-- Left Metabolite information -->
<!-- Right Metabolite Info -->
        <div class="col-sm-8 col-md-8" style="width:600px;" >
        <div>
            <div class="col-sm-8 col-md-8" style="width:300px; float:left; display:inline">
              <!-- 按钮和表格组成的第一小块 -->
              <div style="width:600px" >
                  <ul class="nav nav-pills" style="margin-bottom: 10px;">
                   <li role="presentation" class="active"><a href="{% url 'detail_reaction' reactionsmeta.id %}">View Formula detail</a></li>
                  </ul>
                <div class="panel panel-default">
                  <div class="panel-body " >
                    <table class="table" border="0.5px" style="float:left" >
                      <thead>
                          <tr>
                              <th>metabolite</th>
                              <th>stoichiometry</th>
                          </tr>
                      </thead>
                      <tbody>
                          {% if reactionsmeta.metabolite1 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite1_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry1 }} </td>
                              </tr>
                           {% endif %}
                          {%  if reactionsmeta.metabolite2 != '' %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite2_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry2 }}</td>
                             <tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite3 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite3_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry3 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite4 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite4_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry4 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite5 != '' %}
                           <tr>
                               <td>{{ reactionsmeta.metabolite5_id }}</td>
                               <td>{{ reactionsmeta.stoichiometry5 }}</td>
                           </tr>
                          {% endif %}
                          {% if reactionsmeta.metabolite6 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite6_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry6 }} </td>
                              </tr>
                           {% endif %}
                          {%  if reactionsmeta.metabolite7 != '' %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite7_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry7 }}</td>
                              <tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite8 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite8_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry8 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite9 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite9_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry9 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite10 != '' %}
                           <tr>
                               <td>{{ reactionsmeta.metabolite10_id }}</td>
                               <td>{{ reactionsmeta.stoichiometry10 }}</td>
                           </tr>
                          {% endif %}{% if reactionsmeta.metabolite11 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite11_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry11 }} </td>
                              </tr>
                           {% endif %}
                          {%  if reactionsmeta.metabolite12 != '' %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite12_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry12 }}</td>
                              <tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite13 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite13_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry13 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite14 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite14_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry14 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite15 != '' %}
                           <tr>
                               <td>{{ reactionsmeta.metabolite15_id }}</td>
                               <td>{{ reactionsmeta.stoichiometry15 }}</td>
                           </tr>
                          {% endif %}{% if reactionsmeta.metabolite16 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite16_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry16 }} </td>
                              </tr>
                           {% endif %}
                          {%  if reactionsmeta.metabolite17 != '' %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite17_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry17 }}</td>
                              <tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite18 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite18_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry18 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite19 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite19_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry19 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite20 != '' %}
                           <tr>
                               <td>{{ reactionsmeta.metabolite20_id }}</td>
                               <td>{{ reactionsmeta.stoichiometry20 }}</td>
                           </tr>
                          {% endif %}{% if reactionsmeta.metabolite21 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite21_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry21 }} </td>
                              </tr>
                           {% endif %}
                          {%  if reactionsmeta.metabolite22 != '' %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite22_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry22 }}</td>
                              <tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite23 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite23_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry23 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite24 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite24_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry24 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite25 != '' %}
                           <tr>
                               <td>{{ reactionsmeta.metabolite25_id }}</td>
                               <td>{{ reactionsmeta.stoichiometry25 }}</td>
                           </tr>
                          {% endif %}{% if reactionsmeta.metabolite26 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite26_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry26 }} </td>
                              </tr>
                           {% endif %}
                          {%  if reactionsmeta.metabolite27 != '' %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite27_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry27 }}</td>
                              <tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite28 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite28 }}</td>
                              <td>{{ reactionsmeta.stoichiometry28 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite29 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite29 }}</td>
                              <td>{{ reactionsmeta.stoichiometry29 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite30 != '' %}
                           <tr>
                               <td>{{ reactionsmeta.metabolite30 }}</td>
                               <td>{{ reactionsmeta.stoichiometry30 }}</td>
                           </tr>
                          {% endif %}{% if reactionsmeta.metabolit31 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite31 }}</td>
                              <td>{{ reactionsmeta.stoichiometry31 }} </td>
                              </tr>
                           {% endif %}
                          {%  if reactionsmeta.metabolite32 != '' %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite32_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry32 }}</td>
                              <tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite33 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite33_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry33 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite34 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite34_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry34 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite35 != '' %}
                           <tr>
                               <td>{{ reactionsmeta.metabolite35_id }}</td>
                               <td>{{ reactionsmeta.stoichiometry35 }}</td>
                           </tr>
                          {% endif %}{% if reactionsmeta.metabolite36 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite36_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry36 }} </td>
                              </tr>
                           {% endif %}
                          {%  if reactionsmeta.metabolite37 != '' %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite37_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry37 }}</td>
                              <tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite38 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite38_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry38 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite39 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite39_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry39 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite40 != '' %}
                           <tr>
                               <td>{{ reactionsmeta.metabolite40_id }}</td>
                               <td>{{ reactionsmeta.stoichiometry40 }}</td>
                           </tr>
                          {% endif %}{% if reactionsmeta.metabolite41 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite41_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry41 }} </td>
                              </tr>
                           {% endif %}
                          {%  if reactionsmeta.metabolite42 != '' %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite42_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry42 }}</td>
                              <tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite43 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite43_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry43 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite44 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite44_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry44 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite45 != '' %}
                           <tr>
                               <td>{{ reactionsmeta.metabolite45_id }}</td>
                               <td>{{ reactionsmeta.stoichiometry45 }}</td>
                           </tr>
                          {% endif %}{% if reactionsmeta.metabolite46 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite46_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry46 }} </td>
                              </tr>
                           {% endif %}
                          {%  if reactionsmeta.metabolite47 != '' %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite47_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry47 }}</td>
                              <tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite48 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite48_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry48 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite49 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite49_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry49 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite50 != '' %}
                           <tr>
                               <td>{{ reactionsmeta.metabolite50_id }}</td>
                               <td>{{ reactionsmeta.stoichiometry50 }}</td>
                           </tr>
                          {% endif %}{% if reactionsmeta.metabolite51 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite51_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry51 }} </td>
                              </tr>
                           {% endif %}
                          {%  if reactionsmeta.metabolite52 != '' %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite52_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry52 }}</td>
                              <tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite53 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite53_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry53 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite53 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite54_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry54 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite55 != '' %}
                           <tr>
                               <td>{{ reactionsmeta.metabolite55_id }}</td>
                               <td>{{ reactionsmeta.stoichiometry55 }}</td>
                           </tr>
                          {% endif %}{% if reactionsmeta.metabolite56 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite56_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry56 }} </td>
                              </tr>
                           {% endif %}
                          {%  if reactionsmeta.metabolite57 != '' %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite57_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry57 }}</td>
                              <tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite58 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite58_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry3 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite59 != '' %}
                          <tr>
                              <td>{{ reactionsmeta.metabolite59_id }}</td>
                              <td>{{ reactionsmeta.stoichiometry59 }}</td>
                          </tr>
                            {% endif %}
                          {% if reactionsmeta.metabolite60 != '' %}
                           <tr>
                               <td>{{ reactionsmeta.metabolite60_id }}</td>
                               <td>{{ reactionsmeta.stoichiometry60 }}</td>
                           </tr>
                          {% endif %}

                        </tbody>
                    </table>
                  </div>
                 </div>
              </div>
              <!-- 按钮和表格组成的第一小块 -->

              <!-- 按钮和表格组成的第二小块 -->
               <div style="width:600px">
                     <ul class="nav nav-pills" style="margin-bottom: 10px;">
                        <li role="presentation" class="active"><a href="{% url 'detail_reaction' reactionsmeta.id %}">View Reaction detail</a></li>
                     </ul>
                     <div class="panel panel-default">
                        <div class="panel-body">
                           <table class="table">
                      <thead>
                          <tr>
                              <th>Lower_bound</th>
                              <th>Upper_bound</th>
                              <th>Gene_reaction_rule</th>
                              <th>Subsystem</th>
                          </tr>
                      </thead>
                     <tbody>
                     {% for reaction in reactions %}
                     {% if reactionsmeta.id == reaction.id %}
                     <tr>
                         <td>{{ reaction.lower_bound }}</td>
                     <td>{{ reaction.upper_bound }}</td>
                         {% if reaction.gene_reaction_rule != '' %}
                     <td>{{ reaction.gene_reaction_rule }}</td>
                             {% else %}
                             <td> None </td>
                             {% endif %}
                     <td>{{ reaction.subsystem }}</td>
                     </tr>
                     {% endif %}
                     {% endfor %}
                     </tbody>
                  </table>
                         </div>
                      </div>
                </div>
               <!-- 按钮和表格组成的第二小块 -->
            </div>

               <!-- 由图组成的第三部分 -->

            <div class="col-sm-8 col-md-8" style="width:300px; float:right; display:inline">
                       <meta charset="utf-8">
                       <style>

.link {
  fill: none;
  stroke: #666;
  stroke-width: 1.5px;
}

#licensing {
  fill: green;
}

.link.licensing {
  stroke: green;
}

.link.resolved {
  stroke-dasharray: 0,2 1;
}

circle {
  fill: #ccc;
  stroke: #333;
  stroke-width: 1.5px;
}

text {
  font: 15px sans-serif;
  pointer-events: none;
  text-shadow: 0 1px 0 #fff, 1px 0 0 #fff, 0 -1px 0 #fff, -1px 0 0 #fff;
}

</style>
                       <script src="http://d3js.org/d3.v3.min.js"></script>
                       <script src="https://cdnjs.cloudflare.com/ajax/libs/jsnetworkx/0.3.4/jsnetworkx.js"></script>
                       <script>

// http://blog.thomsonreuters.com/index.php/mobile-patent-suits-graphic-of-the-day/

var links = [


    {% if reactionsmeta.stoichiometry1 != '' and reactionsmeta.stoichiometry1 > 0 %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite1_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry1 != '' and reactionsmeta.stoichiometry1 < 0%}
    {source: "{{ reactionsmeta.metabolite1_id }}", target:"Reaction", type:"suit"},
    {% endif %}

    {% if reactionsmeta.stoichiometry2 != '' and reactionsmeta.stoichiometry2 > 0 %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite2_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry2 != '' and reactionsmeta.stoichiometry2 < 0 %}
    {source: "{{ reactionsmeta.metabolite2_id }}", target:"Reaction", type:"suit"},
    {% endif %}

    {% if reactionsmeta.stoichiometry3 != '' and reactionsmeta.stoichiometry3 > '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite3_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry3 != '' and reactionsmeta.stoichiometry3 < '0' %}
    {source: "{{ reactionsmeta.metabolite3_id }}", target:"Reaction", type:"suit"},
    {% endif %}

    {% if reactionsmeta.stoichiometry4 != '' and reactionsmeta.stoichiometry4 > '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite4_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry4 != '' and reactionsmeta.stoichiometry4 < '0' %}
    {source: "{{ reactionsmeta.metabolite4_id }}", target:"Reaction", type:"suit"},
    {% endif %}

    {% if reactionsmeta.stoichiometry5 != '' and reactionsmeta.stoichiometry5 > '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite5_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry5 != '' and reactionsmeta.stoichiometry5 < '0' %}
    {source: "{{ reactionsmeta.metabolite5_id }}", target:"Reaction", type:"suit"},
    {% endif %}
    {% if reactionsmeta.stoichiometry6 != '' and reactionsmeta.stoichiometry6 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite6_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry6 != '' and reactionsmeta.stoichiometry6 < '0' %}
    {source: "{{ reactionsmeta.metabolite6_id }}", target:"Reaction", type:"suit"},
    {% endif %}
  {% if reactionsmeta.stoichiometry7 != '' and reactionsmeta.stoichiometry7 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite7_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry7 != '' and reactionsmeta.stoichiometry7 < '0' %}
    {source: "{{ reactionsmeta.metabolite7_id }}", target:"Reaction", type:"suit"},
    {% endif %}

     {% if reactionsmeta.stoichiometry8 != '' and reactionsmeta.stoichiometry8 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite8_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry8 != '' and reactionsmeta.stoichiometry8 < '0' %}
    {source: "{{ reactionsmeta.metabolite8_id }}", target:"Reaction", type:"suit"},
    {% endif %}

    {% if reactionsmeta.stoichiometry9 != '' and reactionsmeta.stoichiometry9 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite9_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry9 != '' and reactionsmeta.stoichiometry9 < '0' %}
    {source: "{{ reactionsmeta.metabolite9_id }}", target:"Reaction", type:"suit"},
    {% endif %}
  {% if reactionsmeta.stoichiometry10 != '' and reactionsmeta.stoichiometry10 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite10_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry10 != '' and reactionsmeta.stoichiometry10 < '0' %}
    {source: "{{ reactionsmeta.metabolite10_id }}", target:"Reaction", type:"suit"},
    {% endif %}
     {% if reactionsmeta.stoichiometry11 != '' and reactionsmeta.stoichiometry11 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite11_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry11 != '' and reactionsmeta.stoichiometry11 < '0' %}
    {source: "{{ reactionsmeta.metabolite11_id }}", target:"Reaction", type:"suit"},
    {% endif %}

    {% if reactionsmeta.stoichiometry12 != '' and reactionsmeta.stoichiometry12 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite12_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry12 != '' and reactionsmeta.stoichiometry12 < '0' %}
    {source: "{{ reactionsmeta.metabolite12_id }}", target:"Reaction", type:"suit"},
    {% endif %}

    {% if reactionsmeta.stoichiometry13 != '' and reactionsmeta.stoichiometry13 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite13_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry13 != '' and reactionsmeta.stoichiometry13 < '0' %}
    {source: "{{ reactionsmeta.metabolite13_id }}", target:"Reaction", type:"suit"},
    {% endif %}

     {% if reactionsmeta.stoichiometry14 != '' and reactionsmeta.stoichiometry14 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite14_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry14 != '' and reactionsmeta.stoichiometry14 < '0' %}
    {source: "{{ reactionsmeta.metabolite14_id }}", target:"Reaction", type:"suit"},
    {% endif %}

    {% if reactionsmeta.stoichiometry15 != '' and reactionsmeta.stoichiometry15 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite15_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry15 != '' and reactionsmeta.stoichiometry15 < '0'%}
    {source: "{{ reactionsmeta.metabolite15_id }}", target:"Reaction", type:"suit"},
    {% endif %}

  {% if reactionsmeta.stoichiometry16 != '' and reactionsmeta.stoichiometry16 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite1_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry16 != '' and reactionsmeta.stoichiometry16 < '0'%}
    {source: "{{ reactionsmeta.metabolite16_id }}", target:"Reaction", type:"suit"},
    {% endif %}

     {% if reactionsmeta.stoichiometry17 != '' and reactionsmeta.stoichiometry17 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite17_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry17 != '' and reactionsmeta.stoichiometry17 < '0' %}
    {source: "{{ reactionsmeta.metabolite17_id }}", target:"Reaction", type:"suit"},
    {% endif %}

    {% if reactionsmeta.stoichiometry18 != '' and reactionsmeta.stoichiometry18 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite18_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry18 != '' and reactionsmeta.stoichiometry18 < '0' %}
    {source: "{{ reactionsmeta.metabolite18_id }}", target:"Reaction", type:"suit"},
    {% endif %}

  {% if reactionsmeta.stoichiometry19 != '' and reactionsmeta.stoichiometry19 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite19_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry19 != '' and reactionsmeta.stoichiometry19 < '0' %}
    {source: "{{ reactionsmeta.metabolite19_id }}", target:"Reaction", type:"suit"},
    {% endif %}

    {% if reactionsmeta.stoichiometry20 != '' and reactionsmeta.stoichiometry20 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite20_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry20 != '' and reactionsmeta.stoichiometry20 < '0' %}
    {source: "{{ reactionsmeta.metabolite20_id }}", target:"Reaction", type:"suit"},
    {% endif %}

    {% if reactionsmeta.stoichiometry21 != '' and reactionsmeta.stoichiometry21 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite21_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry21 != '' and reactionsmeta.stoichiometry21 < '0'%}
    {source: "{{ reactionsmeta.metabolite21_id }}", target:"Reaction", type:"suit"},
    {% endif %}
  {% if reactionsmeta.stoichiometry22 != '' and reactionsmeta.stoichiometry22 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite22_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry22 != '' and reactionsmeta.stoichiometry22 < '0' %}
    {source: "{{ reactionsmeta.metabolite22_id }}", target:"Reaction", type:"suit"},
    {% endif %}
     {% if reactionsmeta.stoichiometry23 != '' and reactionsmeta.stoichiometry23 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite23_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry23 != '' and reactionsmeta.stoichiometry23 < '0' %}
    {source: "{{ reactionsmeta.metabolite23_id }}", target:"Reaction", type:"suit"},
    {% endif %}
    {% if reactionsmeta.stoichiometry24 != '' and reactionsmeta.stoichiometry24 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite24_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry24 != '' and reactionsmeta.stoichiometry24 < '0'%}
    {source: "{{ reactionsmeta.metabolite24_id }}", target:"Reaction", type:"suit"},
    {% endif %}
  {% if reactionsmeta.stoichiometry25 != '' and reactionsmeta.stoichiometry25 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite25_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry25 != '' and reactionsmeta.stoichiometry25 < '0' %}
    {source: "{{ reactionsmeta.metabolite25_id }}", target:"Reaction", type:"suit"},
    {% endif %}
     {% if reactionsmeta.stoichiometry26 != '' and reactionsmeta.stoichiometry26 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite26_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry26 != '' and reactionsmeta.stoichiometry26 < '0'%}
    {source: "{{ reactionsmeta.metabolite26_id }}", target:"Reaction", type:"suit"},
    {% endif %}
    {% if reactionsmeta.stoichiometry27 != '' and reactionsmeta.stoichiometry27 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite27_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry27 != '' and reactionsmeta.stoichiometry27 < '0' %}
    {source: "{{ reactionsmeta.metabolite27_id }}", target:"Reaction", type:"suit"},
    {% endif %}
  {% if reactionsmeta.stoichiometry28 != '' and reactionsmeta.stoichiometry28 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite28_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry28 != '' and reactionsmeta.stoichiometry28 < '0' %}
    {source: "{{ reactionsmeta.metabolite28_id }}", target:"Reaction", type:"suit"},
    {% endif %}
    {% if reactionsmeta.stoichiometry29 != '' and reactionsmeta.stoichiometry29 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite29_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry29 != '' and reactionsmeta.stoichiometry29 < '0'%}
    {source: "{{ reactionsmeta.metabolite29_id }}", target:"Reaction", type:"suit"},
    {% endif %}
    {% if reactionsmeta.stoichiometry30 != '' and reactionsmeta.stoichiometry30 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite30_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry30 != '' and reactionsmeta.stoichiometry30 < '0'%}
    {source: "{{ reactionsmeta.metabolite30_id }}", target:"Reaction", type:"suit"},
    {% endif %}
  {% if reactionsmeta.stoichiometry31 != '' and reactionsmeta.stoichiometry31 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite31_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry31 != '' and reactionsmeta.stoichiometry31 < '0' %}
    {source: "{{ reactionsmeta.metabolite31_id }}", target:"Reaction", type:"suit"},
    {% endif %}
{% if reactionsmeta.stoichiometry32 != '' and reactionsmeta.stoichiometry32 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite32_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry32 != '' and reactionsmeta.stoichiometry32 < '0' %}
    {source: "{{ reactionsmeta.metabolite32_id }}", target:"Reaction", type:"suit"},
    {% endif %}
{% if reactionsmeta.stoichiometry33 != '' and reactionsmeta.stoichiometry33 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite33_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry33 != '' and reactionsmeta.stoichiometry33 < '0' %}
    {source: "{{ reactionsmeta.metabolite33_id }}", target:"Reaction", type:"suit"},
    {% endif %}
{% if reactionsmeta.stoichiometry34 != '' and reactionsmeta.stoichiometry34 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite31_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry34 != '' and reactionsmeta.stoichiometry34 < '0' %}
    {source: "{{ reactionsmeta.metabolite34_id }}", target:"Reaction", type:"suit"},
    {% endif %}
{% if reactionsmeta.stoichiometry35 != '' and reactionsmeta.stoichiometry35 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite35_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry35 != '' and reactionsmeta.stoichiometry35 < '0' %}
    {source: "{{ reactionsmeta.metabolite35_id }}", target:"Reaction", type:"suit"},
    {% endif %}
{% if reactionsmeta.stoichiometry36 != '' and reactionsmeta.stoichiometry36 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite36_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry36 != '' and reactionsmeta.stoichiometry36 < '0' %}
    {source: "{{ reactionsmeta.metabolite36_id }}", target:"Reaction", type:"suit"},
    {% endif %}
{% if reactionsmeta.stoichiometry37 != '' and reactionsmeta.stoichiometry37 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite37_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry37 != '' and reactionsmeta.stoichiometry37 < '0' %}
    {source: "{{ reactionsmeta.metabolite37_id }}", target:"Reaction", type:"suit"},
    {% endif %}
{% if reactionsmeta.stoichiometry38 != '' and reactionsmeta.stoichiometry38 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite38_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry38 != '' and reactionsmeta.stoichiometry38 < '0' %}
    {source: "{{ reactionsmeta.metabolite38_id }}", target:"Reaction", type:"suit"},
    {% endif %}
    {% if reactionsmeta.stoichiometry39 != '' and reactionsmeta.stoichiometry39 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite39_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry39 != '' and reactionsmeta.stoichiometry39 < '0' %}
    {source: "{{ reactionsmeta.metabolite39_id }}", target:"Reaction", type:"suit"},
    {% endif %}
    {% if reactionsmeta.stoichiometry40 != '' and reactionsmeta.stoichiometry40 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite40_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry40 != '' and reactionsmeta.stoichiometry40 < '0'%}
    {source: "{{ reactionsmeta.metabolite40_id }}", target:"Reaction", type:"suit"},
    {% endif %}
    {% if reactionsmeta.stoichiometry41 != '' and reactionsmeta.stoichiometry41 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite41_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry41 != '' and reactionsmeta.stoichiometry41 < '0'%}
    {source: "{{ reactionsmeta.metabolite41_id }}", target:"Reaction", type:"suit"},
    {% endif %}
    {% if reactionsmeta.stoichiometry42 != '' and reactionsmeta.stoichiometry42 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite42_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry42 != '' and reactionsmeta.stoichiometry42 < '0'%}
    {source: "{{ reactionsmeta.metabolite42_id }}", target:"Reaction", type:"suit"},
    {% endif %}
    {% if reactionsmeta.stoichiometry43 != '' and reactionsmeta.stoichiometry43 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite43_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry43 != '' and reactionsmeta.stoichiometry43 < '0'%}
    {source: "{{ reactionsmeta.metabolite43_id }}", target:"Reaction", type:"suit"},
    {% endif %}
    {% if reactionsmeta.stoichiometry44 != '' and reactionsmeta.stoichiometry44 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite44_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry44 != '' and reactionsmeta.stoichiometry44 < '0' %}
    {source: "{{ reactionsmeta.metabolite44_id }}", target:"Reaction", type:"suit"},
    {% endif %}
    {% if reactionsmeta.stoichiometry45 != '' and reactionsmeta.stoichiometry45 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite45_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry45 != '' and reactionsmeta.stoichiometry45 < '0' %}
    {source: "{{ reactionsmeta.metabolite45_id }}", target:"Reaction", type:"suit"},
    {% endif %}
    {% if reactionsmeta.stoichiometry46 != '' and reactionsmeta.stoichiometry46 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite46_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry46 != '' and reactionsmeta.stoichiometry46 < '0'%}
    {source: "{{ reactionsmeta.metabolite46_id }}", target:"Reaction", type:"suit"},
    {% endif %}
    {% if reactionsmeta.stoichiometry47 != '' and reactionsmeta.stoichiometry47 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite47_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry47 != '' and reactionsmeta.stoichiometry47 < '0'%}
    {source: "{{ reactionsmeta.metabolite47_id }}", target:"Reaction", type:"suit"},
    {% endif %}
    {% if reactionsmeta.stoichiometry48 != '' and reactionsmeta.stoichiometry48 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite48_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry48 != '' and reactionsmeta.stoichiometry48 < '0' %}
    {source: "{{ reactionsmeta.metabolite48_id }}", target:"Reaction", type:"suit"},
    {% endif %}
    {% if reactionsmeta.stoichiometry49 != '' and reactionsmeta.stoichiometry49 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite49_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry49 != '' and reactionsmeta.stoichiometry49 < '0'%}
    {source: "{{ reactionsmeta.metabolite49_id }}", target:"Reaction", type:"suit"},
    {% endif %}
     {% if reactionsmeta.stoichiometry50 != '' and reactionsmeta.stoichiometry50 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite50_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry50 != '' and reactionsmeta.stoichiometry50 < '0' %}
    {source: "{{ reactionsmeta.metabolite50_id }}", target:"Reaction", type:"suit"},
    {% endif %}
    {% if reactionsmeta.stoichiometry51 != '' and reactionsmeta.stoichiometry51 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite51_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry51 != '' and reactionsmeta.stoichiometry51 < '0'%}
    {source: "{{ reactionsmeta.metabolite51_id }}", target:"Reaction", type:"suit"},
    {% endif %}
 {% if reactionsmeta.stoichiometry52 != '' and reactionsmeta.stoichiometry52 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite52_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry52 != '' and reactionsmeta.stoichiometry52 < '0' %}
    {source: "{{ reactionsmeta.metabolite52_id }}", target:"Reaction", type:"suit"},
    {% endif %}
 {% if reactionsmeta.stoichiometry53 != '' and reactionsmeta.stoichiometry53 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite53_id }}", type: "licensing"},
     {% elif  reactionsmeta.stoichiometry53 != '' and reactionsmeta.stoichiometry53 < '0' %}
    {source: "{{ reactionsmeta.metabolite53_id }}", target:"Reaction", type:"suit"},
    {% endif %}
 {% if reactionsmeta.stoichiometry54 != '' and reactionsmeta.stoichiometry54 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite54_id }}", type: "licensing"},
     {% elif  reactionsmeta.stoichiometry54 != '' and reactionsmeta.stoichiometry54 < '0'%}
    {source: "{{ reactionsmeta.metabolite54_id }}", target:"Reaction", type:"suit"},
    {% endif %}
 {% if reactionsmeta.stoichiometry55 != '' and reactionsmeta.stoichiometry55 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite55_id }}", type: "licensing"},
     {% elif  reactionsmeta.stoichiometry55 != ''  and reactionsmeta.stoichiometry55 < '0'%}
    {source: "{{ reactionsmeta.metabolite55_id }}", target:"Reaction", type:"suit"},
    {% endif %}
 {% if reactionsmeta.stoichiometry56 != '' and reactionsmeta.stoichiometry56 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite56_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry56 != '' and reactionsmeta.stoichiometry56 < '0'%}
    {source: "{{ reactionsmeta.metabolite56_id }}", target:"Reaction", type:"suit"},
    {% endif %}
 {% if reactionsmeta.stoichiometry57 != '' and reactionsmeta.stoichiometry57 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite57_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry57 != '' and reactionsmeta.stoichiometry57 < '0'%}
    {source: "{{ reactionsmeta.metabolite57_id }}", target:"Reaction", type:"suit"},
    {% endif %}
 {% if reactionsmeta.stoichiometry58 != '' and reactionsmeta.stoichiometry58 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite58_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry58 != '' and reactionsmeta.stoichiometry58 < '0' %}
    {source: "{{ reactionsmeta.metabolite58_id }}", target:"Reaction", type:"suit"},
    {% endif %}
 {% if reactionsmeta.stoichiometry59 != '' and reactionsmeta.stoichiometry59 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite59_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry59 != '' and reactionsmeta.stoichiometry59 < '0' %}
    {source: "{{ reactionsmeta.metabolite59_id }}", target:"Reaction", type:"suit"},
    {% endif %}
 {% if reactionsmeta.stoichiometry60 != '' and reactionsmeta.stoichiometry60 >= '0' %}
    {source: "Reaction", target: "{{ reactionsmeta.metabolite60_id }}", type: "licensing"},
    {% elif  reactionsmeta.stoichiometry60 != '' and reactionsmeta.stoichiometry60 < '0'%}
    {source: "{{ reactionsmeta.metabolite60_id }}", target:"Reaction", type:"suit"},
    {% endif %}


];

var nodes = {};

// Compute the distinct nodes from the links.
links.forEach(function(link) {
  link.source = nodes[link.source] || (nodes[link.source] = {name: link.source});
  link.target = nodes[link.target] || (nodes[link.target] = {name: link.target});
});

var width = 500,
    height = 400;

var force = d3.layout.force()
    .nodes(d3.values(nodes))
    .links(links)
    .size([width, height])
    .linkDistance(60)
    .charge(-300)
    .on("tick", tick)
    .start();

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

// Per-type markers, as they don't inherit styles.
svg.append("defs").selectAll("marker")
    .data(["suit", "licensing", "resolved"])
  .enter().append("marker")
    .attr("id", function(d) { return d; })
    .attr("viewBox", "0 -5 10 10")
    .attr("refX", 15)
    .attr("refY", -1.5)
    .attr("markerWidth", 6)
    .attr("markerHeight", 6)
    .attr("orient", "auto")
  .append("path")
    .attr("d", "M0,-5L10,0L0,5");

var path = svg.append("g").selectAll("path")
    .data(force.links())
  .enter().append("path")
    .attr("class", function(d) { return "link " + d.type; })
    .attr("marker-end", function(d) { return "url(#" + d.type + ")"; });

var circle = svg.append("g").selectAll("circle")
    .data(force.nodes())
  .enter().append("circle")
    .attr("r", 10)
    .call(force.drag);

var text = svg.append("g").selectAll("text")
    .data(force.nodes())
  .enter().append("text")
    .attr("x", 8)
    .attr("y", ".31em")
    .text(function(d) { return d.name; });

// Use elliptical arc path segments to doubly-encode directionality.
function tick() {
  path.attr("d", linkArc);
  circle.attr("transform", transform);
  text.attr("transform", transform);
}

function linkArc(d) {
  var dx = d.target.x - d.source.x,
      dy = d.target.y - d.source.y,
      dr = Math.sqrt(dx * dx + dy * dy);
  return "M" + d.source.x + "," + d.source.y + "A" + dr + "," + dr + " 0 0,1 " + d.target.x + "," + d.target.y;
}

function transform(d) {
  return "translate(" + d.x + "," + d.y + ")";
}

</script>
             </div>
        </div>

               <div class="col-sm-8 col-md-8" style="width:800px;">
            <ul class="nav nav-pills" style="margin-bottom: 10px;">
                <li role="presentation" class="active"><a href="{% url 'detail_reaction' reactionsmeta.id %}">View Metabolites detail</a></li>
            </ul>
               <div class="panel panel-default">
                  <div class="panel-body">
                  <table class="table">
                      <thead>
                          <tr>
                              <th>metabolite</th>
                              <th>name</th>
                              <th>compartment</th>
                              <th>charge</th>
                              <th>formula</th>
                          </tr>
                      </thead>
                      <tbody>
                      {% if reactionsmeta.metabolite1 != ''  %}
                              <tr>
                                  <td>{{ reactionsmeta.metabolite1_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite1_id %}
                                      <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                                        {% if reactionsmeta.metabolite2 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite2_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite2_id %}
                                      <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                          {% if reactionsmeta.metabolite3 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite3_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite3_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                         {% if reactionsmeta.metabolite4 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite4_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite4_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                                        {% if reactionsmeta.metabolite5 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite5_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite5_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                                        {% if reactionsmeta.metabolite6 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite6_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite6_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                                        {% if reactionsmeta.metabolite7 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite7_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite7_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                                        {% if reactionsmeta.metabolite8 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite8_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite8_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                                        {% if reactionsmeta.metabolite9 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite9_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite9_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                                        {% if reactionsmeta.metabolite10 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite10_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite10_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                                        {% if reactionsmeta.metabolite11 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite11_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite11_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                                        {% if reactionsmeta.metabolite12 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite12_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite12_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                      {% if reactionsmeta.metabolite13 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite13_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite13_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                      {% if reactionsmeta.metabolite14 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite14_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite14_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                                        {% if reactionsmeta.metabolite15 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite15_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite15_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                                        {% if reactionsmeta.metabolite15 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite15_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite15_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                                        {% if reactionsmeta.metabolite15 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite15_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite15_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                      {% if reactionsmeta.metabolite16 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite16_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite16_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                      {% if reactionsmeta.metabolite17 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite17_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite17_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                      {% if reactionsmeta.metabolite18 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite18_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite18_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                      {% if reactionsmeta.metabolite19 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite19_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite19_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                      {% if reactionsmeta.metabolite20 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite20_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite20_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                                        {% if reactionsmeta.metabolite21 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite21_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite21_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                                        {% if reactionsmeta.metabolite22 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite22_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite22_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                                        {% if reactionsmeta.metabolite23 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite23_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite23_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite24 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite24_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite24_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite25 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite25_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite235id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite26 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite26_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite26_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite27 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite27_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite27_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite28 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite28_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite28_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite29 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite29_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite29_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite30 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite30_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite30_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite23 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite23_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite23_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite31 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite31_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite31_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite32 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite32_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite32_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite33 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite33_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite33_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite34 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite34_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite35_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite36 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite36_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite36_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite37 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite37_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite37_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite38 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite38_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite38_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite39 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite39_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite39_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite40 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite40_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite40_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite41 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite41_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite41_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite42 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite42_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite42_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite43 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite43_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite43_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite44 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite44_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite44_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite45 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite45_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite45_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite46 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite23_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite23_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite23 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite46_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite46_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite23 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite23_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite23_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite47 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite47_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite47_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite48 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite48_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite48_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite49 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite49_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite49_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite50 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite50_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite50_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite51 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite51_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite51_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite52 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite52_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite52_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite53 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite53_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite53_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite54 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite54_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite54_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite55 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite55_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite55_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite56 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite56_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite56_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite57 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite57_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite57_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite58 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite58_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite58_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite59 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite59_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite59_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                  {% if reactionsmeta.metabolite60 != ''  %}
                              <tr>
                              <td>{{ reactionsmeta.metabolite60_id }}</td>
                              {% for metabolite in metabolites %}
                                  {% if metabolite.id == reactionsmeta.metabolite60_id %}
                              <td><a href="{{ metabolite.get_absolute_url }}">{{ metabolite.name }}</a></td>
                                      <td>{{ metabolite.compartment }}</td>
                                      <td>{{ metabolite.charge }}</td>
                                      <td>{{ metabolite.formula }}</td>
                                      {% endif %}
                              {% endfor %}
                              </tr>
                           {% endif %}
                      </tbody>
                  </table>
                  </div>
               </div>
               </div>
        </div>


{% endblock %}

